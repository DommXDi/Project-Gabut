<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaskHub - Clean Focus</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
            colors: {
              indigo: {
                50: "#eef2ff",
                100: "#e0e7ff",
                500: "#6366f1",
                600: "#4f46e5", // Primary Brand
                700: "#4338ca",
                900: "#312e81",
              },
              gray: {
                850: "#1f2937",
                900: "#111827",
                950: "#030712", // Deep Dark Mode
              },
            },
          },
        },
      };
    </script>

    <link rel="stylesheet" href="style.css" />

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore-compat.js"></script>
  </head>
  <body
    class="bg-gradient-to-br from-slate-50 to-indigo-50 dark:from-gray-950 dark:to-gray-900 min-h-screen text-gray-800 dark:text-gray-200 font-sans antialiased transition-colors duration-500 overflow-x-hidden relative"
  >
    <!-- Background -->
    <div
      class="fixed -top-20 -right-20 w-96 h-96 bg-indigo-500/10 dark:bg-indigo-500/20 blur-3xl rounded-full pointer-events-none z-0"
    ></div>
    <div
      class="fixed bottom-0 left-0 w-64 h-64 bg-cyan-500/10 dark:bg-cyan-500/10 blur-3xl rounded-full pointer-events-none z-0"
    ></div>

    <div class="relative z-10 container max-w-2xl mx-auto p-6 sm:p-10 pb-24">
      <!-- Header Area -->
      <header class="mb-10 text-center sm:text-left">
        <div class="flex justify-between items-center mb-4">
          <div>
            <!-- Header -->
            <h1
              class="text-4xl font-extrabold tracking-tight text-indigo-600 dark:text-indigo-400"
            >
              TaskHub
            </h1>
            <p class="text-gray-500 dark:text-gray-400 mt-1 font-medium">
              Tugasnya jangan lupa dikerjain ya :)
            </p>
          </div>

          <button
            id="theme-toggle"
            class="p-3 rounded-xl bg-white dark:bg-gray-800 shadow-sm hover:shadow-md text-gray-500 dark:text-gray-400 transition-all active:scale-95 border border-gray-100 dark:border-gray-700"
            title="Ganti Tema"
          >
            <svg
              id="theme-icon-moon"
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
              ></path>
            </svg>
            <svg
              id="theme-icon-sun"
              class="w-5 h-5 hidden"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a4 4 0 11-8 0 4 4 0 018 0z"
              ></path>
            </svg>
          </button>
        </div>

        <!-- Progress -->
        <div id="dashboard-progress" class="hidden">
          <div
            class="h-2 w-full bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden"
          >
            <div
              id="progress-bar-fill"
              class="h-full bg-gradient-to-r from-indigo-500 to-cyan-500 rounded-full transition-all duration-1000 ease-out"
              style="width: 0%"
            ></div>
          </div>
          <p
            id="progress-text"
            class="text-xs font-semibold text-gray-500 dark:text-gray-400 mt-3 text-center tracking-wide uppercase"
          >
            Memuat produktivitas...
          </p>
        </div>

        <!-- Insight Card -->
        <div
          id="insight-card"
          class="mt-6 p-4 rounded-xl border border-indigo-100 dark:border-indigo-900/50 bg-indigo-50/50 dark:bg-indigo-900/20 hidden transition-all"
        >
          <div class="flex items-center gap-3">
            <span class="text-indigo-600 dark:text-indigo-400 text-lg">‚ö°</span>
            <p
              id="insight-text"
              class="text-sm font-medium text-indigo-800 dark:text-indigo-200"
            >
              Tidak ada deadline mendesak. Aman!
            </p>
          </div>
        </div>
      </header>

      <!-- Input Form  -->
      <form
        id="add-task-form"
        class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700/50 mb-10 transition-shadow duration-300 hover:shadow-xl relative overflow-hidden group"
      >
        <div
          class="absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"
        ></div>

        <div class="space-y-4">
          <input
            type="text"
            id="task-input"
            placeholder="Apa yang perlu diselesaikan?"
            class="w-full text-lg font-medium bg-transparent border-b-2 border-gray-100 dark:border-gray-700 focus:border-indigo-500 focus:outline-none py-2 text-gray-800 dark:text-gray-100 placeholder-gray-400 transition-colors"
            required
          />

          <div class="flex flex-col sm:flex-row gap-3">
            <textarea
              id="task-description-input"
              placeholder="Catatan Kecil"
              rows="1"
              class="flex-grow bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500/20 focus:outline-none border-none resize-none"
            ></textarea>

            <select
              id="task-category-input"
              class="bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-2 text-sm text-gray-600 dark:text-gray-300 focus:outline-none cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"
            >
              <option value="umum">Umum</option>
              <option value="teori">Teori</option>
              <option value="praktikum">Praktikum</option>
              <option value="personal">Personal</option>
            </select>
          </div>

          <div class="flex items-center gap-2 pt-2">
            <input
              type="date"
              id="deadline-date-input"
              class="bg-transparent text-xs font-medium text-gray-500 focus:text-indigo-600 focus:outline-none cursor-pointer"
              placeholder="+ Tanggal"
            />
            <span class="text-gray-300">|</span>
            <input
              type="time"
              id="deadline-time-input"
              class="bg-transparent text-xs font-medium text-gray-500 focus:text-indigo-600 focus:outline-none cursor-pointer"
              placeholder="+ Jam"
            />

            <div class="flex-grow"></div>

            <button
              type="submit"
              class="bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl px-6 py-2.5 font-semibold text-sm shadow-md shadow-indigo-500/20 hover:shadow-lg hover:shadow-indigo-500/30 transition-all hover:-translate-y-0.5 active:translate-y-0 disabled:opacity-50 disabled:cursor-not-allowed"
              disabled
            >
              Tambah
            </button>
          </div>
        </div>
      </form>

      <!-- Main Content -->
      <main>
        <!-- Filter Pills -->
        <div
          id="filter-buttons"
          class="flex flex-wrap gap-2 mb-8 justify-center sm:justify-start"
        >
          <button
            data-filter="all"
            class="filter-btn active px-4 py-1.5 rounded-full text-xs font-semibold bg-indigo-600 text-white shadow-sm transition-all"
          >
            Semua
          </button>
          <button
            data-filter="teori"
            class="filter-btn px-4 py-1.5 rounded-full text-xs font-semibold bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700 transition-all"
          >
            Teori
          </button>
          <button
            data-filter="praktikum"
            class="filter-btn px-4 py-1.5 rounded-full text-xs font-semibold bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700 transition-all"
          >
            Praktikum
          </button>
          <button
            data-filter="personal"
            class="filter-btn px-4 py-1.5 rounded-full text-xs font-semibold bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700 transition-all"
          >
            Personal
          </button>
        </div>

        <!-- Task Sections -->
        <section id="pending-tasks" class="mb-12">
          <div class="flex items-center gap-3 mb-6">
            <h2 class="text-xl font-bold text-gray-800 dark:text-white">
              Active Task
            </h2>
            <div class="h-px flex-grow bg-gray-200 dark:bg-gray-800"></div>
          </div>
          <ul id="pending-list" class="space-y-5"></ul>

          <!-- Empty State  -->
          <div id="pending-empty" class="hidden text-center py-12 opacity-50">
            <div class="text-4xl mb-3">üçÉ</div>
            <p class="text-gray-500 text-sm">Semua beres. Santai dulu!</p>
          </div>
        </section>

        <section id="completed-tasks">
          <div
            class="flex items-center gap-3 mb-6 opacity-60 hover:opacity-100 transition-opacity"
          >
            <h2 class="text-lg font-bold text-gray-500 dark:text-gray-400">
              Completed
            </h2>
            <div class="h-px flex-grow bg-gray-200 dark:bg-gray-800"></div>
          </div>
          <ul id="completed-list" class="space-y-5"></ul>
        </section>
      </main>

      <!-- Footer -->
      <footer class="text-center mt-16 flex flex-col items-center gap-4">
        <button
          id="show-stats-btn"
          class="text-xs font-medium text-indigo-500 hover:text-indigo-600 transition-colors"
        >
          Lihat Statistik Lengkap
        </button>
        <p class="text-[10px] uppercase tracking-widest text-gray-400">
          TaskHub ‚Ä¢ Minimal & Focus
        </p>
      </footer>
    </div>

    <!-- Modals -->

    <!-- Delete Modal -->
    <div
      id="delete-modal"
      class="modal-backdrop fixed inset-0 z-50 flex items-center justify-center p-4 hidden"
    >
      <div
        class="bg-white dark:bg-gray-800 w-full max-w-sm p-6 rounded-2xl shadow-2xl transform scale-100 transition-transform"
      >
        <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-2">
          Hapus Item?
        </h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm mb-6">
          Tugas ini akan hilang selamanya. Yakin?
        </p>
        <div class="flex justify-end gap-3">
          <button
            id="cancel-delete-btn"
            class="px-4 py-2 rounded-xl text-sm font-medium text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors"
          >
            Batal
          </button>
          <button
            id="confirm-delete-btn"
            class="px-4 py-2 rounded-xl text-sm font-medium bg-rose-500 hover:bg-rose-600 text-white shadow-lg shadow-rose-500/30 transition-colors"
          >
            Hapus
          </button>
        </div>
      </div>
    </div>

    <!-- Stats Modal -->
    <div
      id="stats-modal"
      class="modal-backdrop fixed inset-0 z-50 flex items-center justify-center p-4 hidden"
    >
      <div
        class="bg-white dark:bg-gray-800 w-full max-w-md p-8 rounded-3xl shadow-2xl relative"
      >
        <button
          id="close-stats-btn"
          class="absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"
        >
          ‚úï
        </button>
        <h3 class="text-2xl font-bold mb-6 text-gray-800 dark:text-white">
          Productivity
        </h3>
        <div
          id="stats-content"
          class="space-y-4 text-gray-600 dark:text-gray-300"
        ></div>
      </div>
    </div>

    <!-- Pomodoro Modal -->
    <div
      id="pomodoro-modal"
      class="fixed inset-0 z-[60] flex flex-col items-center justify-center p-4 hidden bg-gray-900/95 backdrop-blur-sm transition-opacity duration-300"
    >
      <div class="text-center w-full max-w-lg">
        <div class="mb-10 animate-pulse">
          <span
            class="inline-block px-3 py-1 rounded-full bg-indigo-500/20 text-indigo-300 text-xs font-bold tracking-wider uppercase mb-4"
            >Focus Mode</span
          >
          <h2
            id="pomodoro-task-name"
            class="text-2xl sm:text-3xl font-medium text-white line-clamp-2 px-4"
          >
            Writing Documentation
          </h2>
        </div>

        <div id="pomodoro-timer" class="text-white mb-12 tabular-nums">
          25:00
        </div>

        <div class="flex gap-6 justify-center mb-12">
          <button
            id="pomodoro-start-pause"
            class="w-36 py-4 rounded-2xl bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-indigo-600/30"
          >
            Mulai
          </button>
          <button
            id="pomodoro-stop"
            class="w-24 py-4 rounded-2xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-bold text-lg transition-all border border-gray-700"
          >
            Stop
          </button>
        </div>

        <!-- Audio Controls -->
        <div
          class="bg-black/30 p-6 rounded-2xl max-w-xs mx-auto backdrop-blur-md border border-white/10"
        >
          <div class="flex items-center justify-between mb-4">
            <span
              class="text-xs text-gray-400 font-medium uppercase tracking-wider"
              >Ambience</span
            >
            <select
              id="pomodoro-sound"
              class="bg-transparent text-sm text-indigo-300 focus:outline-none cursor-pointer text-right"
            >
              <option value="hening" class="text-gray-900">Mute</option>
              <option value="white-noise" class="text-gray-900">
                White Noise
              </option>
            </select>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-gray-500 text-xs">üîà</span>
            <input
              type="range"
              id="pomodoro-volume"
              min="0"
              max="0.1"
              step="0.01"
              value="0.05"
            />
            <span class="text-gray-500 text-xs">üîä</span>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js" defer></script>
  </body>
</html>
